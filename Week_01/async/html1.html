<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" type="text/css" href="src/css/style.css" />
    <title>RedGreen</title>
  </head>
  <body>
    <p class="pa"></p>
    <div class="green"></div>
    <div class="yellow"></div>
    <div class="red"></div>

    <script>
      const ONE_SECOND = 1000;

      function removeLights() {
        let lights = document.getElementsByTagName("div");
        for (let i = 0; i < lights.length; i++) {
          lights[i].classList.remove("light");
        }
      }

      function green() {
        removeLights();
        document.getElementsByClassName("green")[0].classList.add("light");
      }

      function yellow() {
        removeLights();
        document.getElementsByClassName("yellow")[0].classList.add("light");
      }

      function red() {
        removeLights();
        document.getElementsByClassName("red")[0].classList.add("light");
      }

      function callBack() {
        green();
        setTimeout(function () {
          yellow();
          setTimeout(function () {
            red();
            setTimeout(function () {
              callBack();
            }, ONE_SECOND * 2);
          }, ONE_SECOND * 3);
        }, ONE_SECOND * 5);
      }
    </script>
  </body>
</html>
